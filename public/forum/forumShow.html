<div class="container">

    <!-- Post -->
    <div class="card card-links">
        <div class="card-content">
            <a ng-href="{{post.authour.profileUrl}}" class="text-link valign-wrapper right">
                <span class="valign grey-text text-darken-3" style="margin-right: 5px;">{{post.authour.name}}</span>
                <img ng-src="{{post.authour.avatar}}" alt="Avatar" class="circle responsive-img grey-text text-darken-3">
            </a>
            <pre class="card-title" style="margin: 0;">{{post.title}}</pre>

            <span class="grey-text">{{post.createdAt | date: 'MMM d, yyyy h:mm a'}}</span>

            <br>

            <pre ng-bind-html="post.content | linky">{{post.content}}</pre>
            <span ng-show="post.updatedAt !== post.createdAt" class="grey-text">Updated</span>
            <span ng-show="post.updatedAt !== post.createdAt" class="grey-text" am-time-ago="post.updatedAt"></span>
            <p class="grey-text right"># Comments</p>
            <br>
            <div class="card-action" ng-show="user">
                <a href="" class="red-text">
                    <i class="tooltipped modal-trigger material-icons right"
                       data-target="deletePostModal" data-position="bottom" data-delay="500"
                       data-tooltip="Delete post">
                        delete
                    </i>
                </a>
                <a href="" class="red-text">
                    <i class="tooltipped modal-trigger material-icons right"
                       data-target="editPostModal" data-position="bottom"
                       data-delay="500" data-tooltip="Edit post" ng-click="openModal()">
                        mode_edit
                    </i>
                </a>
            </div>
        </div>
    </div>

    <!-- Comments -->
    <h4>Comments coming soon!</h4>

    <!-- Edit post modal -->
    <div id="editPostModal" class="modal">
        <div class="modal-content">
            <div class="row">
                <form class="col s12">
                    <h4 class="col s12 truncate">Edit {{post.title}}</h4>
                    <div class="input-field col s12">
                        <input id="title" type="text" ng-model="postTitle">
                        <label for="title" class="active">Title</label>
                    </div>
                    <div class="input-field col s12">
                        <textarea id="content" class="materialize-textarea" ng-model="postContent"></textarea>
                        <label for="content" class="active">Content</label>
                    </div>
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <a href="" ng-click="updatePost()" class="modal-action modal-close waves-effect waves-light btn red">
                Update
            </a>
            <a href="" class="modal-action modal-close waves-effect waves-red btn-flat">Cancel</a>
        </div>
    </div>

    <!-- Delete post modal -->
    <div id="deletePostModal" class="modal" style="width: 20%;">
        <div class="modal-content">
            <h4>Delete Post?</h4>
            <p>Delete this post forever. You won't be able to undo this!</p>
        </div>
        <div class="modal-footer">
            <a href="" ng-click="deletePost()" class="modal-action modal-close waves-effect waves-light btn red">
                Delete
            </a>
            <a href="" class="modal-action modal-close waves-effect waves-red btn-flat">Cancel</a>
        </div>
    </div>
</div>