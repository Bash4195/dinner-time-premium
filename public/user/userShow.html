<div layout="column">
    <div style="background: url({{userProfile.backgroundImage || 'http://orig11.deviantart.net/20eb/f/2015/030/6/f/_minflat__dark_material_design_wallpaper__4k__by_dakoder-d8fjqzu.jpg'}});
    background-size: cover; height: 400px; width: 100%;"></div>
    <div layout="row" layout-align="center center">
        <img ng-src="{{userProfile.avatarFull}}" alt="" class="md-avatar circle" style="margin-top: -92px; border: 2px solid #FFF;">
    </div>
    <div layout="row">
        <div flex></div>
        <div layout="column" layout-align="center center">
            <div layout="row" layout-align="center center">
                <span class="md-display-2 wrap-title icon">{{userProfile.name}}</span>
                <div>
                    <md-icon md-colors="{color: 'green-500'}" ng-if="userProfile.onlineStatus === 'Online'">check_circle</md-icon>
                    <md-icon md-colors="{color: 'yellow-500'}" ng-if="userProfile.onlineStatus === 'Away'">access_time</md-icon>
                    <md-icon md-colors="{color: 'red-A700'}"  ng-if="userProfile.onlineStatus === 'Busy'">do_not_disturb_on</md-icon>
                    <md-tooltip md-colors="{color: 'DTPDark-accent-900'}">{{userProfile.onlineStatus}}</md-tooltip>
                </div>
            </div>
            <span class="md-headline">{{userProfile.rank}}</span>
        </div>
        <div flex></div>
    </div>
    <br>
    <div layout-gt-sm="row" layout="column">
        <div flex></div>
        <div layout="column" flex-gt-sm="50" flex="100">
            <md-card>
                <md-card-header layout="row">
                    <md-card-header-text>
                        <span class="md-headline">Summary</span>
                    </md-card-header-text>
                    <span flex></span>
                    <md-button class="md-icon-button" ng-if="userProfile._id === user._id && !editingBio" ng-click="editingBioToggle()"><md-icon>edit</md-icon></md-button>
                </md-card-header>
                <md-card-content flex ng-if="!editingBio">
                    <p class="md-subhead wrap-content">{{userProfile.bio || 'No information given'}}</p>
                </md-card-content>
                <md-card-content flex ng-if="editingBio">
                    <form>
                        <md-input-container class="md-block">
                            <label>Summary</label>
                            <textarea ng-model="bio.bio"></textarea>
                        </md-input-container>
                    </form>
                </md-card-content>
                <md-card-actions layout="row" ng-if="editingBio">
                    <span flex></span>
                    <md-button class="md-primary" ng-click="editingBioToggle()">Cancel</md-button>
                    <md-button class="md-primary md-raised" ng-click="saveProfile(bio)">Save</md-button>
                </md-card-actions>
            </md-card>
        </div>
        <div layout="column" flex-gt-sm="30" flex="100">
            <md-card>
                <md-card-header layout="row">
                    <md-card-header-text>
                        <span class="md-headline">About</span>
                    </md-card-header-text>
                    <span flex></span>
                    <md-button class="md-icon-button" ng-if="userProfile._id === user._id && !editingAbout" ng-click="editingAboutToggle()"><md-icon>edit</md-icon></md-button>
                </md-card-header>
                <md-card-content flex ng-if="!editingAbout">
                    <p class="md-subhead wrap-content"><span md-colors="{color: 'grey-500'}">Joined: </span>{{userProfile.createdAt | date: 'medium'}}</p>
                    <p class="md-subhead wrap-content"><span md-colors="{color: 'grey-500'}">Name: </span>{{userProfile.realName}}</p>
                    <p class="md-subhead wrap-content"><span md-colors="{color: 'grey-500'}">Age: </span>{{userProfile.age}}</p>
                    <p class="md-subhead wrap-content"><span md-colors="{color: 'grey-500'}">Birthday: </span>{{userProfile.birthday | date: 'longDate'}}</p>
                    <p class="md-subhead wrap-content"><span md-colors="{color: 'grey-500'}">Location: </span>{{userProfile.location}}</p>
                    <p class="md-subhead wrap-content"><span md-colors="{color: 'grey-500'}">Occupation: </span>{{userProfile.occupation}}</p>
                </md-card-content>
                <md-card-content flex ng-if="editingAbout">
                    <form>
                        <p class="md-subhead wrap-content">Joined: {{userProfile.createdAt | date: 'medium'}}</p>
                        <md-input-container class="md-block">
                            <label>Name</label>
                            <input ng-model="about.realName">
                        </md-input-container>
                        <md-input-container class="md-block">
                            <label>Age</label>
                            <input ng-model="about.age">
                        </md-input-container>
                        <md-input-container class="md-block">
                            <label>Birthday</label>
                        </md-input-container>
                        <br>
                        <md-datepicker class="md-primary" ng-model="about.birthday"></md-datepicker>
                        <md-input-container class="md-block">
                            <label>Location</label>
                            <input ng-model="about.location">
                        </md-input-container>
                        <md-input-container class="md-block">
                            <label>Occupation</label>
                            <input ng-model="about.occupation">
                        </md-input-container>
                    </form>
                </md-card-content>
                <md-card-actions layout="row" ng-if="editingAbout">
                    <span flex></span>
                    <md-button class="md-primary" ng-click="editingAboutToggle()">Cancel</md-button>
                    <md-button class="md-primary md-raised" ng-click="saveProfile(about)">Save</md-button>
                </md-card-actions>
            </md-card>
        </div>
        <div flex></div>
    </div>
</div>
